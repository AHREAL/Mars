const str = '# Flow\n\nå¦‚ä½•å®‰è£…ä»¥åŠFlowçš„åŸºæœ¬ä½¿ç”¨\n\n## ç®€ä»‹\n\n![image.png](/upload/1589387280014_0.4220.png)\n\n**Flow is a static type checker for JavaScript**\n\nhttps://flow.org/en/\n\nFaceBookå¼€æºçš„Javascripté™æ€ç±»å‹æ£€æŸ¥å·¥å…·ã€‚\n\nFlow æ˜¯ä¸€ä¸ªJavascripté™æ€ç±»å‹æ£€æŸ¥å·¥å…·ï¼Œ è®©ä½ å¼€å‘æ›´åŠ å¿«é€Ÿï¼Œæ™ºèƒ½ï¼Œå¯é ï¼Œé¡¹ç›®æ›´åŠ å¤§å‹ã€‚\n\nä»–é€šè¿‡ **static type annotations** å¯¹ä»£ç è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä½ å¯ä»¥å£°æ˜ç±»å‹æ¥æ¥å‘Šè¯‰Flowä½ çš„ä»£ç å°†å¦‚ä½•è¿›è¡Œå·¥ä½œï¼ŒFlowä¼šç¡®ä¿ä½ çš„ä»£ç ç…§ç€ä½ è§„å®šçš„æ–¹å¼å»è¿è¡Œã€‚\n\n\n\n## ç¬¬ä¸€ä¸ªä¾‹å­\n\nåœ¨Flowä¸­å¯ä»¥é€šè¿‡å†’å·çš„å½¢å¼å»è§„å®šå˜é‡çš„ç±»å‹ï¼Œåœ¨å‡½æ•°çš„å‚æ•°æ‹¬å·åé¢è§„å®šå‡½æ•°çš„è¿”å›å€¼ç±»å‹\n\n```javascript\n// @flow\nfunction square(n: number): number { \n  return n * n;\n}\n\nsquare("2"); // Error!\n```\n\n\n\n## ä½¿ç”¨Flow\n\n**å®‰è£…**\n\n```shell\nnpm i flow-bin -D\n```\n\n**åˆå§‹åŒ–flowé…ç½®æ–‡ä»¶**\n\n```shell\nnpx flow init\n```\n\n**å¤´éƒ¨æ·»åŠ **\n\nåœ¨éœ€è¦è¿›è¡Œç±»å‹æ£€æŸ¥çš„jsæ–‡ä»¶å¤´éƒ¨æ·»åŠ \n\n```javascript\n// @flow\n```\n\nå¦‚æœå°‘äº†è¿™ä¸ªå¤´éƒ¨æ³¨é‡Šï¼Œåˆ™flowä¸ä¼šå¯¹æ–‡ä»¶è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚\n\n**æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼å£°æ˜å˜é‡ç±»å‹**\n\n1. æ³¨é‡Š\n2. ç›´æ¥æ”¹å†™\n\n**æ³¨é‡Š**\n\n```javascript\nvar a /*: number*/ = 10;\n```\n\n**ç›´æ¥æ”¹å†™ï¼ˆæ¨èï¼‰**\n\n```javascript\nvar a:number = 10;\n```\n\nå¦‚æœç›´æ¥æ”¹å†™jsä»£ç ç»“æ„ï¼Œåˆ™ä»£ç æ— æ³•ç›´æ¥è¿è¡Œäº†ï¼Œè¿™æ—¶å€™ä¾¿éœ€è¦ä½¿ç”¨ **babelè¿›è¡Œä»£ç è½¬æ¢**\n\n**æ‰§è¡Œæ£€æŸ¥**\n\n```shell\nnpx flow \n```\n\n\n\n## é…åˆBabel\n\né€šè¿‡ä¸Šè¿°ç¬¬äºŒç§æ–¹å¼å»ä½¿ç”¨FLowï¼ˆç›´æ¥æ”¹å†™ï¼‰ï¼Œä¼šå¯¼è‡´jsæ–‡ä»¶æ— æ³•è¿è¡Œï¼Œè¿™æ—¶å€™å¯ä»¥å€ŸåŠ©Babelå¯¹Jsè¿›è¡Œè½¬ç ã€‚\n\n**å®‰è£…**\n\n```shell\nnpm i babel-cli babel-preset-flow -D\n```\n\n**åˆ›å»º.babelrc**\n\n```json\n{\n\t"presets":["flow"]\n}\n```\n\n**è¿è¡Œ**\n\n```shell\nnpx babel ./src -d ./dist\n```\n\n\n\nè¿™æ—¶å€™å°±å¯ä»¥çœ‹åˆ°ï¼Œsrcç›®å½•ä¸‹çš„flowä»£ç å·²ç»è¢«ç¼–è¯‘åˆ°distç›®å½•ä¸‹ï¼Œå¹¶ä¸”å¯ä»¥é¡ºåˆ©è¿è¡Œäº†ã€‚\n\n\n\n## Flowä¸­çš„æ•°æ®ç±»å‹\n![image.png](/upload/1589387717500_0.0674.png)\n\n## å…ƒç´ ç±»å‹\n\næ¯”å¦‚è¯´Arrayæ•°æ®ç±»å‹è¾ƒä¸ºç‰¹æ®Šï¼Œ éœ€è¦ä½¿ç”¨ <> æ¥å£°æ˜æ•°ç»„ä¸­å…ƒç´ çš„ç±»å‹\n\n```javascript\n// @flow\n\nlet arr: Array<number> = [1, 2, 3, 4]\n\nlet arr2: Array<number> = [1, 2, 3, \'4\']  //error\n\nlet arr3: Array<any> = [1, 2, 3, \'4\']\n```\n\n\n\n## å¤„ç†ç±»å‹é”™è¯¯\n\næœ‰äº†Flowä»¥åï¼Œ æˆ‘ä»¬å¯ä»¥ååˆ†æ–¹ä¾¿çš„å»è§„å®šæ•°æ®çš„ç±»å‹ï¼Œä¹‹å‰æˆ‘ä»¬æ²¡æœ‰Flowçš„æƒ…å†µä¸‹ï¼Œ å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ç»å¸¸ä¸çŸ¥é“æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™åº”è¯¥è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œå³ä½¿è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œ ä¹Ÿååˆ†çš„å¤æ‚å’Œä¸ä¾¿ã€‚\n\n**æ— Flow**\n\n```javascript\nconst count = (arr) => {\n    if(!arr){\n        throw new Error(\'å‚æ•°ä¸å­˜åœ¨\') \n    }\n    \n    if(!Array.isArray(arr)){\n        thorw new Error(\'å‚æ•°å¿…é¡»ä¸ºä¸€ä¸ªæ•°ç»„\')\n    }\n    \n    if(!arr.every(item=>typeof item === \'number\')){\n        throw new Error(\'æ•°ç»„çš„å…ƒç´ å¿…é¡»ä¸ºæ•°å­—ç±»å‹\')\n    }\n    // å‰é¢çš„ä»£ç éƒ½æ˜¯ç”¨æ¥åˆ¤æ–­ç±»å‹ï¼Œ è€ŒçœŸæ­£çš„ä¸šåŠ¡ä»£ç åªæœ‰ä¸‰è¡Œ\n    \n    let sum\n    arr.forEach(item=> sum+=item)\n    return sum\n}\n```\n\n**ä½¿ç”¨Flow**\n\n```javascript\n// @flow\n\nconst count = (arr: Array<number>): number => {\n    // ç±»å‹äº‹å…ˆå£°æ˜ï¼Œ åˆ™æ— éœ€å†è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œ ä»£ç ç®€æ´äº†è®¸å¤š\n    let sum: number = 0\n    arr.forEach(item=> sum+=item)\n    return sum\n}\n```\n\n\n\n## å‡½æ•°ç±»å‹\n\nFlowå…è®¸æˆ‘ä»¬æŒ‡å®šå‡½æ•°å‚æ•°ä¸ºå‡½æ•°çš„å‚æ•°ç±»å‹ä»¥åŠå‡½æ•°çš„è¿”å›å€¼ç±»å‹ã€‚\n\nå¬ç€æœ‰ç‚¹ç»•ğŸ˜œ\n\nå‡è®¾æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œ è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ç”¨ä½œå›è°ƒå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è§„å®šè¿™ä¸ªå›è°ƒå‡½æ•°çš„å‚æ•°ç±»å‹ä»¥åŠè¿”å›å€¼ç±»å‹ã€‚\n\nè¿™å„¿æœ‰ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª**sqlExec**æ–¹æ³•ï¼Œ å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ ä¸€ä¸ªæ˜¯sqlè¯­å¥ï¼Œ ä¸€ä¸ªæ˜¯å›è°ƒå‡½æ•°ç”¨äºæ¥æ”¶sqlæŸ¥è¯¢çš„ç»“æœã€‚\n\n**æ— Flow**\n\n```javascript\nconst sqlExec = async (sql, callBack) => {\n\tconst data = await query(sql)\n    callBack(data)\n}\n```\n\n**ä½¿ç”¨Flow**\n\n```javascript\n//@flow\n\nconst sqlExec = async (sql: string, callBack: (data: Object) => void):void => {\n    // æˆ‘ä»¬å¯ä»¥å¯¹CallBackçš„å‚æ•°ä»¥åŠè¿”å›å€¼è¿›è¡Œç±»å‹æ£€æŸ¥\n    \n\tconst data = await query(sql)\n    callBack(data)\n}\n```\n\n\n\n## Maybeç±»å‹\n\næˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦å®ç°å‡½æ•°çš„é‡è½½ï¼Œåœ¨ä¸ä½¿ç”¨**Maybe**ç±»å‹æ—¶\n\n```javascript\n//@flow\n\n// æˆ‘ä»¬è§„å®šè¿™ä¸ªå‡½æ•°numé»˜è®¤å€¼ä¸º1ï¼ˆå¦‚æœè°ƒç”¨è€…æ²¡æœ‰ä¼ é€’å‚æ•°ï¼‰\nconst fn = (num:number):number => {\n    num = num || 1\n    return num\n}\n\nfn() // errorï¼Œ æˆ‘ä»¬æ— æ³•å°†undefinedä½œä¸ºå‚æ•°ä¼ é€’ç»™fn\n```\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨**Maybe**ï¼Œ æ–¹å¼ä¹Ÿå¾ˆè½»æ¾ï¼Œ åŠ ä¸ªé—®å¥½\n\n```javascript\n//@flow\n\n// æˆ‘ä»¬è§„å®šè¿™ä¸ªå‡½æ•°numé»˜è®¤å€¼ä¸º1ï¼ˆå¦‚æœè°ƒç”¨è€…æ²¡æœ‰ä¼ é€’å‚æ•°ï¼‰\nconst fn = (num:?number):number => {\n    num = num || 1\n    return num\n}\n\nfn() // 1\n```\n\n**Maybe**å…è®¸å‚æ•°ç±»å‹æ˜¯è§„å®šå¥½çš„(æ¯”å¦‚ä¾‹å­ä¸­æ˜¯**number**)ï¼Œæˆ–è€…æ˜¯**undefined**ï¼Œæˆ–è€…æ˜¯**Null**\n\n\n\n## æˆ–æ“ä½œ\n\nå½“ä¸€ä¸ªå˜é‡å…·æœ‰å¤šç§å…è®¸çš„ç±»å‹æ—¶ï¼Œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ | è¿æ¥\n\n```javascript\n//@flow\n\nlet age: number|string = 10;\n\nage = "10";\n```\n\n\n\n## ç±»å‹æ¨æ–­\n\nåœ¨æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬æ²¡æœ‰å£°æ˜å®Œæ•´ç±»å‹ï¼Œ**Flow** èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¸®åŠ©æˆ‘ä»¬è¿›è¡Œç±»å‹çš„æ¨æ–­ã€‚\n\n```javascript\n//@flow\n\n// æˆ‘ä»¬æ²¡æœ‰å£°æ˜fnè¿”å›å€¼ç±»å‹ï¼Œ ä½†æ˜¯flowå¸®åŠ©æˆ‘ä»¬æ¨æ–­å‡ºfnè¿”å›å€¼ç±»å‹ä¸ºnumber\nconst fn = (a:number, b:number) => {\n    return a+b\n}\n\n// æˆ‘ä»¬å°†fnè¿”å›å€¼èµ‹å€¼ç»™cï¼Œcå£°æ˜ç±»å‹å´ä¸ºstringã€‚\nconst c:string = fn(1,2); //error\n```\n\n\n\n## å¯¹è±¡ç±»å‹\n\næˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹è±¡çš„èŠ±æ‹¬å·å†™æ³•ï¼Œ å¯¹å¯¹è±¡çš„å±æ€§ç±»å‹è¿›è¡Œå£°æ˜ã€‚\n\n```javascript\n//@flow\n\n// å‡è®¾æˆ‘ä»¬å­˜åœ¨ä¸€ä¸ªajaxæ–¹æ³•ï¼Œ ajaxæ¥æ”¶ä¸€ä¸ªoptionsï¼Œoptionséœ€è¦æœ‰url, method, successå›è°ƒ\nconst ajax = (options: {url: string, method: string, success: (data:Object)=>void}) => {\n    \n}\n\najax() \n// error, æ— æ³•ä¼ é€’undefinedä¸ªæœˆajaxæ–¹æ³•\n\najax({  \n    url:\'xxx\'\n})\n//error, method missing, success missing\n\najax({\n    url:\'xxx\',\n    method:\'GET\',\n    success:(data)=>{\n        \n    }\n})\n// no errors\n```';

export default str;
